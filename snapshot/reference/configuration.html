<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Configuration</title>
<link rel="stylesheet" href="css/site.css">
<script src="js/setup.js"></script><script defer src="js/site.js"></script>

</head>
<body id="configuration" class="article"><div id="banner-container" class="container" role="banner">
  <div id="banner" class="contained" role="banner">
    <div id="switch-theme">
      <input type="checkbox" id="switch-theme-checkbox" />
      <label for="switch-theme-checkbox">Dark Theme</label>
    </div>
  </div>
</div>
<div id="tocbar-container" class="container" role="navigation">
  <div id="tocbar" class="contained" role="navigation">
    <button id="toggle-toc"></button>
  </div>
</div>
<div id="main-container" class="container">
  <div id="main" class="contained">
    <div id="doc" class="doc">
<div id="header">
<h1>Configuration</h1>
<div class="details">
<span id="revnumber">version 2.2.0</span>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>There are several options for how to change the output of the JSON:API rendering.</p>
</div>
<div class="paragraph">
<p>For a specific JSON:API configuration, you can create a Spring bean of type JsonApiConfiguration.
Currently, you can configure</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Configuration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descriptions</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JsonApiVersionRendered</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the JSON:API version should be rendered automatically. This configuration is deprecated, please use the JsonApiObject configuration instead</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JsonApiObject</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Here you can set a JSON:API object do set all <a href="https://jsonapi.org/format/#document-jsonapi-object">allowed properties</a>, like version, ext, profile and meta.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PluralizedTypeRendered</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON:API types should be rendered as pluralized or non pluralized class names.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pluralized</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LowerCasedTypeRendered</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON:API types should be rendered as lower case or original class names.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lower case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PageMetaAutomaticallyCreated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">page information of a PagedModel should be rendered automatically as JSON:API meta.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TypeForClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a specific Java class should be rendered with a specific JSON:API type. This is useful when
representation model classes should get the JSON:API type of the domain model or when derived classes
should get the JSON:API type of the superclass.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TypeForClassUsedForDeserialization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if the above "Java class to JSON:API type" mapping should also be used for deserialization. This is very useful for polymorphic use cases.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EmptyAttributesObjectSerialized</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Empty attributes should be serialized as an empty JSON object, like <code>"attributes": {}</code>. If set to false, no "attributes" key is serialized if attributes are empty.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JsonApiIdNotSerializedForValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A marker value that indicates that the JSON:API id should not be serialized. This is useful if you want to create JSON for a POST request. See also <a href="#postWithNoId">[postWithNoId]</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjectMapperCustomizer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A lambda expression to add additional configuration to the Jackson <code>ObjectMapper</code> used for serialization.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not set
<a id="links-configuration"></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JsonApiCompliantLinks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The following links are JSON:API compliant: <code>self</code>, <code>related</code>, <code>describedBy</code>, <code>next</code>, <code>prev</code>, <code>first</code> and <code>last</code>, for
<a href="https://jsonapi.org/format/#document-top-level">top-level links</a>. Only <code>self</code> for <a href="https://jsonapi.org/format/#document-resource-object-links">resource links</a>.
To allow any link, set this configuration to false.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JsonApi11LinkPropertiesRemovedFromLinkMeta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If Spring HATEOAS complex links should be serialized/deserialized in a backward compatible (to version 1.x.x of this library) way. By default, the Spring HATEOAS properties title, type and hreflang will then be serialized only as top level link
properties, those link properties were introduced in JSON:API 1.1,
see <a href="https://jsonapi.org/format/#auto-id&#8212;&#8203;link-objects" class="bare">https://jsonapi.org/format/#auto-id&#8212;&#8203;link-objects</a>. To serialize the Spring HATEOAS properties title, type and hreflang both as top level link properties, as well as in the meta section, set this property to <code>false</code>, see also <a href="#links">[links]</a>.
Be aware that using the default, Spring HATEOAS complex links are rendered in a backward-incompatible way
(related to version 1.x.x of this library that only supports JSON:API 1.0),
since client might expect properties like title in the meta section.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LinksNotUrlEncoded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set of link relations which are not URL encoded when serializing. Empty by default.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">empty set
<a id="links-placement-configuration"></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LinksAtResourceLevel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controls where links are placed in JSON:API documents for single resource (EntityModel) serialization. When set to <code>true</code>, links are placed at the resource level (inside the resource object in the "data" section). When set to <code>false</code>, links are placed at the document level (top-level). See also <a href="#link-placement">[link-placement]</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Since the JSON:API recommendation contains square brackets in the request parameter names,
those brackets are usually URL-encoded to %5B and %5D. If you want your server to also interpret raw <code>[</code> and <code>]</code>
characters in the URL, make sure you provide the following configuration in your Spring <code>application.properties</code>
when using Tomcat: <code>server.tomcat.relaxed-query-chars= [,]</code>. If this library automatically creates pagination links,
<code>[</code> and <code>]</code> characters are always URL-encoded.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is an example of how you would implement a JSON:API configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Bean
JsonApiConfiguration jsonApiConfiguration() {
  return new JsonApiConfiguration()
    .withJsonApiObject(new JsonApiObject(true))
    .withPluralizedTypeRendered(false)
    .withLowerCasedTypeRendered(false)
    .withTypeForClass(
      MovieRepresentationModelWithoutJsonApiType.class,
      "my-movies"
    )
    .withTypeForClassUsedForDeserialization(true)
    .withEmptyAttributesObjectSerialized(false)
    .withJsonApiIdNotSerializedForValue("-1")
    .withJsonApi11LinkPropertiesRemovedFromLinkMeta(false)
    .withJsonApiCompliantLinks(false)
    .withObjectMapperCustomizer(objectMapper -&gt;
      objectMapper.configure(
        SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,
        true
      )
    );
}
</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_link_placement_configuration_example"><a class="anchor" href="#_link_placement_configuration_example"></a>Link Placement Configuration Example</h3>
<div class="paragraph">
<p>To configure links to appear at the resource level instead of the document level:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Configuration
public class JsonApiConfig {

    @Bean
    public JsonApiConfiguration jsonApiConfiguration() {
        return new JsonApiConfiguration()
            .withLinksAtResourceLevel(true);  <i class="conum" data-value="1"></i><b>(1)</b>
    }
}
</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enable resource-level links for single resource (EntityModel) serialization</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When this configuration is enabled, links from EntityModel will be placed inside the resource object
in the "data" section instead of at the document top level. See <a href="#link-placement">[link-placement]</a> for more details
and examples.</p>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2.2.0<br>
Last updated 2025-12-07 14:14:32 UTC
</div>
</div>
</div>
  </div>
</div>
</body>
</html>